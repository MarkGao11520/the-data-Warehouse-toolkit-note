# 第四章【采购】中的知识点汇总

半可加事实

一些指标，对某些维度是可加的，但不是所有维度，我们将其成为半可加事实。

记录静态水平\(库存水平、金融账户余额，以及密度度量如房间温度\)的所有度量针对日期维度以及其他可能维度天然具有非可加性。在此情况下，度量可以跨日期按照时间周期数求平均来聚集。

* 事实表类型
* * 事务事实表
  * * 业务操作最基本的视图是独立的事务或事务列表。这些事实表表示发生在某个时间点上的一个事件。
    * 事务数据与多维框架非常贴合。原子事务数据是最自然的多维数据，它能够实现您对细节行为的分析。在事务被保存在事实表中后，通常不需要重新访问它。
  * 周期快照事实表
  * * 如果希望观察某个业务在某个固定的、可预测的事件间隔内的累积性能，可使用周期快照。与事务事实表为每个发生的事件用事实表中一行表示不同，利用周期快照，可以对一天、一周、一月结束时的活动拍照\(因此采用快照这一术语\)，每个周期结束时建立快照。周期快照顺序存储到事实表中。周期快照事实表通常是检索固定的、可预测视图纵向性能趋势的唯一方法。
  * 累积快照事实表
  * * 累积快照表示具有确定的开始和结束以及在此期间所有中间过程步骤的过程。累积快照最适合处理业务用户开展对工作流或流水线的分析。
    * 累积快照始终包含多个日期外键，表示可预期的主要事件或过程里程碑。
    * 累积快照通常表示效率和工作流或流水线经过的时间，事实表通常包含表示关键里程碑的期间或经过时间的度量。

事务和快照是维度设计的两个不同的方面。同时采用事务和快照事实表提供了业务的完整视图。事务和快照都应该使用，因为没法将这两种不同的场景合并到单一的事实表中。

这些不同类型的事实表为完成同一个任务提供了各自的优势。令人惊奇的是，三类事实表也构成了所有本书描述的用例的事实表类型。

![](https://upload-images.jianshu.io/upload_images/7220971-778a7a86e90c70a9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

  


* 企业数据仓库总线架构和总线矩阵
* * 总线是一种常见的连接一切的公共结构，所有事情从总线获取能量
  * 通过为DW/BI环境定义标准总线接口，不同组可以在不同时间实现不同的维度模型。如果采用同样的标准，则不同的业务过程主题区域汇集在一起并有效共存。
  * 企业数据仓库总线架构提供了一种分解企业DW/BI规划任务的合理方法。标准化维度和事实的主要套件在整个企业中有统一解释。通过它们建立数据结构框架，可以处理不同的以过程为中心的维度模型的实现，所有实现严格遵守公共结构。当不同维度模型实现完成后，它们之间能够默契地配合。某些时刻，充足的维度模型有利于兑现对集成化企业DW/BI环境的承诺。
  * 考虑表格方式，组织的业务过程被表示为矩阵行，重要的是记住通过矩阵识别的是业务过程，而不是组织的业务部门。矩阵行转换为维度模型表示组织的主要活动和事件，它们通常是按照操作型来源来识别的。在开始考虑DW/BI开发项目时，从简单的业务过程矩阵行开始，因，为这样做可最小化以过度复杂的开始所带来的风险。大多数实现风险来自于想要实现太多的ETL系统设计和开发。关注单一过程所带来的好处是，通常可以通过简单的基本源系统获取，减少了ETL开发的风险。
  * 矩阵列迎头解决了主数据管理和数据集成的需求。当核心维度参与到多个维度模型中并由数据管理责任人定义，由DW/BI小组建立后，您可以设想在多个过程中使用它们，而不是基于单一过程或者更糟糕的是基于单一部门来凭空定义。共享维度提供了潜在的粘合剂，使得业务人员可以跨过程钻取。
  * 每个业务过程为中心的项目实现增量式地构建出整个结构。多个开发小组可以使用组件矩阵共同或异步工作，相互信任，共同适应。



